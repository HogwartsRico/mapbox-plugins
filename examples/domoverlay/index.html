<!doctype html>
<head>
    <title>Dom Overlay Demo</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">   
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.34.0/mapbox-gl.css' rel='stylesheet' />    
    <link href="https://alex2wong.github.io/mapbox-plugins/styles.css" rel="stylesheet" />
</head>

<div id='map' style='width: 800px; height: 600px;'></div>
<!--<script src='../../dist/mapbox-gl.js'></script>-->
<script src='https://alex2wong.github.io/mapbox-plugins/dist/mapbox-gl.js'></script>
<script src='https://alex2wong.github.io/mapbox-plugins/dist/bundle.js'></script>
<script src='https://alex2wong.github.io/mapbox-plugins/examples/hexgrid/sightseeing-pois.js'></script>
<script>
    mapboxgl.accessToken = false;
    var mapCenter = [118.0066, 30.6135];
    var map = new mapboxgl.Map({
        container: 'map',
        style: {
            "version": 8,
            "sprite": "https://alex2wong.github.io/mapbox-plugins/assets/sprite",
            "glyphs": "https://alex2wong.github.io/mapbox-plugins/{fontstack}/{range}.pbf",
            "sources": {
                "custom-tms": {   
                    'type': 'raster',
                    'tiles': [
                        // "https://huangyixiu.co:3003/proxy?proxyURI=http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}",
                        // "http://www.google.cn/maps/vt?lyrs=s@702&gl=cn&x={x}&y={y}&z={z}"
                        "https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"
                    ],
                    'tileSize': 256
                },
            },
            "layers": [
                {
                    'id': 'custom-tms',
                    'type': 'raster',
                    'source': 'custom-tms',
                    'paint': {}
                },
            ]
        },
        zoom: 7,
        pitch: 15,
        bearing: 0,
        center: mapCenter
    });
    map.on('load', function() {
        var domLayer = new Alex.DomOverlayer({
            map: map,
            doms: [
                {
                    icon: 'rocket-11',
                    content: "This is domOverlay",
                    lon: mapCenter[0],
                    lat: mapCenter[1]
                }
            ]
        });
    });
</script>
